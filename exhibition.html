<!DOCTYPE html>
<html lang="en">

<head>
  <title>GuideXP</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300i,400,700" rel="stylesheet">
  <link rel="stylesheet" href="fonts/icomoon/style.css">

  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/magnific-popup.css">
  <link rel="stylesheet" href="css/jquery-ui.css">
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">

  <link rel="stylesheet" href="css/lightgallery.min.css">

  <link rel="stylesheet" href="css/bootstrap-datepicker.css">

  <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">

  <link rel="stylesheet" href="css/swiper.css">

  <link rel="stylesheet" href="css/aos.css">

  <link rel="stylesheet" href="css/style.css">

</head>

<body>

  <div class="site-wrap">

    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>

    <header class='site-navbar py-3 border-bottom' role='banner'>

        <div class='container-fluid'>
          <div class='row align-items-center'>
      
            <div class='col-6 col-xl-2' data-aos='fade-down'>
              <h1 class='mb-0'><a href='index.html' class='text-black h2 mb-0'>GuideXP</a></h1>
            </div>
            <div class='col-10 col-md-8 d-none d-xl-block' data-aos='fade-down'>
              <nav class='site-navigation position-relative text-right text-lg-center' role='navigation'>
      
                <ul class='site-menu js-clone-nav mx-auto d-none d-lg-block'>
                  <li><a href='index.html'>Home</a></li>
                  <li class='has-children'>
                    <a>Exhibitions</a>
                    <ul class='dropdown' id='dropdowncontent'>
      
                      <body>
      
                        <script>
                          //  Fetch from API to get the list of all exhibitions
                          var exbi = new Array();
                          var request = new XMLHttpRequest();
                          request.open('GET','http://admin.guidexp.me/api/exhibition/',false);
                          request.send(null);
                          if (request.status === 200){
                            var data = JSON.parse(request.responseText);
                            for(i = 0;i <data.length;i++){
                              exbi[i] = data[i].exhibition_name;
                            }
                            insert();
                          }

                         //Code following not used:
                         /* 
                         const url_head = 'http://admin.guidexp.me/api/exhibition/'
                         fetch(url_head)
                          .then(response => response.json())
                          .then(data => {
                            for (i = 0; i < data.length; i++) {
                            exbi[i] = data[i].exhibition_name;
                            }
                            })
                         */

                         //  Put the data fetch from API into dropdown menu
                          function insert() {
                            var str = "";
                            var ul = document.getElementById("dropdowncontent");
      
                            for (var i = 0; i < exbi.length; i++) {
                            var data = exbi[i];
                            var url = "exhibition.html?exhibition=" + data;
                              str = str + "<a href='" + url + "'>" + data + "</a>";
      
                              var li = document.createElement('li');
                            li.innerHTML = str;
                            }
                            ul.appendChild(li);
                          }                    
                          
                          </script>
      
                      </body>
      
                    </ul>
      
                  </li>
      
                  <li><a href='artists.html'>Artists</a></li>
                  <li><a href='about.html'>About</a></li>
                  <li><a href='contact.html'>Contact</a></li>
                </ul>
              </nav>
            </div>
      
            <div class='col-6 col-xl-2 text-right' data-aos='fade-down'>
              <div class='d-none d-xl-inline-block'>
                <ul class='site-menu js-clone-nav ml-auto list-unstyled d-flex text-right mb-0' data-class='social'>
                  <li>
                    <a href='http://admin.guidexp.me/upload/art/' class='pl-3 pr-3'><span class='icon-cloud-upload'></span></a>
                  </li>
                  <li>
                    <a href='http://admin.guidexp.me/' class='pl-3 pr-3'><span class='icon-user'></span></a>
                  </li>
                </ul>
              </div>
      
              <div class='d-inline-block d-xl-none ml-md-0 mr-auto py-3' style='position: relative; top: 3px;'><a href='#'
                  class='site-menu-toggle js-menu-toggle text-black'><span class='icon-menu h3'></span></a></div>
      
            </div>
      
          </div>
        </div>
        <script src="js/jquery-3.3.1.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
      
      </header>

    <div class="site-section" data-aos="fade">
      <div class="container-fluid">

        <div class="row justify-content-center">

          <div class="col-md-7">
            <div class="row mb-5">
              <div class="col-12 ">
                <h2 class="site-section-heading text-center" id="exb-title">Exhibition</h2>
              </div>
            </div>
          </div>
        </div>
        <div class="row" id="lightgallery">

          <script src="js/GuideXP/exhibition-load.js"></script>

          <!-- Load GUI -->
          <!-- <div id="art0" class="col-sm-6 col-md-4 col-lg-3 col-xl-2 item" data-aos="fade" data-html="#audio0"
            data-sub-html="<h4>Fading Light</h4><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor doloremque hic excepturi fugit, sunt impedit fuga tempora, ad amet aliquid?</p>">
            <a href="#"><img src="images/nature_small_1.jpg" alt="IMage" class="img-fluid"></a>
          </div> -->

        </div>
      </div>
    </div>

    <div id="res">
    <!-- Load Resource -->
      <!-- <div style="display:none;" id="audio0">
      <audio class="lg-video-object lg-html5 video-js vjs-default-skin" poster="images/nature_small_1.jpg" preload="none" controls="none">
        <source
          src="https://cs.anu.edu.au/courses/comp2300/v_media/lecture-recordings/01_COPE_Part_0__Organisation_&_Contents.mp3"
          type="audio/mpeg">
        Your browser does not support HTML5 video.
      </audio>
    </div> -->
    </div>

    <div class="footer py-4">
      <div class="container-fluid text-center">
        <p>
          GuideXP - Create a guided tour for anything
        </p>
      </div>
    </div>
  </div>

  <script>
    /*- Get the parameter in the url-*/
    var url = location.search,
      obj = {};

    if (url.indexOf("?") != -1) {
      var str = url.substr(1);
      strs = str.split("&");
      for (var i = 0; i < strs.length; i++) {
        obj[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
      }
    }

    // Set title
    var exhibitionTitle = document.getElementById('exb-title');
    exhibitionTitle.innerText = obj.exhibition;

  </script>

  <link href="http://vjs.zencdn.net/4.12/video-js.css" rel="stylesheet">
  <script src="http://vjs.zencdn.net/4.12/video.js"></script>

  <script src="js/GuideXP/getQueryVariable.js"></script>
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/jquery-ui.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/jquery.countdown.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/bootstrap-datepicker.min.js"></script>
  <script src="js/swiper.min.js"></script>
  <script src="js/aos.js"></script>

  <script src="js/picturefill.min.js"></script>
  <script src="js/lightgallery-all.min.js"></script>
  <script src="js/jquery.mousewheel.min.js"></script>

  <script src="js/main.js"></script>

  <script>
    $(document).ready(function () {
      $('#lightgallery').lightGallery();
    });

    $('#lightgallery').lightGallery({
      videojs: true
    }); 
  </script>

</body>
<!-- Google Translate Starts -->
<div id="google_translate_element"></div>
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({ pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE }, 'google_translate_element');
    }
  </script>

  <script type="text/javascript"
    src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<!-- Google Translate Ends -->
</html>